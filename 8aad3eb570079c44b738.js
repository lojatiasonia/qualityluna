/*! For license information please see 8aad3eb570079c44b738.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{264:function(e,o,t){var r=t(312);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(137).default)("ae050fce",r,!0,{})},311:function(e,o,t){"use strict";var r=t(264);t.n(r).a},312:function(e,o,t){(o=t(136)(!0)).push([e.i,".ec-user{display:inline}.ec-user__popover{max-width:100%;min-width:12rem;font-size:1rem;line-height:1.4}.ec-user__alert{font-size:.85rem;margin-bottom:1rem}.ec-user__logout{margin-top:1rem}.ec-user__btn{color:#fff;text-align:left;line-height:1.2rem;padding:.7rem;min-width:15rem;font-size:.9rem}.ec-user__btn:hover{color:#fff}.ec-user__btn:focus{box-shadow:none}.ec-user__btn--facebook{background:#3b5999;border-color:#2f4d8a}.ec-user__btn--facebook:hover{background:#274480;border-color:#274480}.ec-user__btn--google{background:#cb4023;border-color:#be3419}.ec-user__btn--google:hover{background:#c1361a;border-color:#c1361a}.ec-user__btn--windowslive{background:#329ffc;border-color:#2996f2}.ec-user__btn--windowslive:hover{background:#1f8ce9;border-color:#1f8ce9}.ec-user__btn__icon{display:inline-block;width:1.4rem;text-align:center;margin-right:.2rem}.ec-user__back{display:block;padding-left:.3rem;padding-right:.3rem}.ec-user__back:focus{box-shadow:none}.ec-user__visitor-info{font-size:.875rem;margin-top:.6rem;text-align:center;color:var(--gray)}","",{version:3,sources:["/home/runner/work/qualityluna/qualityluna/node_modules/@ecomplus/widget-user/src/components/scss/EcUser.scss"],names:[],mappings:"AAGA,SACE,cAAe,CAEf,kBACE,cAAe,CACf,eAAgB,CAChB,cAAe,CACf,eAAgB,CACjB,gBAGC,gBAAiB,CACjB,kBAAmB,CACpB,iBAGC,eAAgB,CACjB,cAGC,UAAW,CACX,eAAgB,CAChB,kBAAmB,CACnB,aAAc,CACd,eAAgB,CAChB,eAAgB,CANjB,oBASG,UAAW,CATd,oBAaG,eAAgB,CACjB,wBAGC,kBAAmB,CACnB,oBAAqB,CAFtB,8BAKG,kBAAmB,CACnB,oBAAqB,CACtB,sBAID,kBAAmB,CACnB,oBAAqB,CAFtB,4BAKG,kBAAmB,CACnB,oBAAqB,CACtB,2BAID,kBAAmB,CACnB,oBAAqB,CAFtB,iCAKG,kBAAmB,CACnB,oBAAqB,CACtB,oBAID,oBAAqB,CACrB,YAAa,CACb,iBAAkB,CAClB,kBAAmB,CACpB,eAID,aAAc,CACd,kBAAmB,CACnB,mBAAoB,CAHrB,qBAMG,eAAgB,CACjB,uBAID,iBAAkB,CAClB,gBAAiB,CACjB,iBAAkB,CAClB,iBAAkB",file:"EcUser.scss",sourcesContent:["$primary: #f03838; $secondary: #000000; $settings-theme: (\n  bootswatch: _\n); \n.ec-user {\n  display: inline;\n\n  &__popover {\n    max-width: 100%;\n    min-width: 12rem;\n    font-size: 1rem;\n    line-height: 1.4;\n  }\n\n  &__alert {\n    font-size: .85rem;\n    margin-bottom: 1rem;\n  }\n\n  &__logout {\n    margin-top: 1rem;\n  }\n\n  &__btn {\n    color: #fff;\n    text-align: left;\n    line-height: 1.2rem;\n    padding: .7rem;\n    min-width: 15rem;\n    font-size: .9rem;\n\n    &:hover {\n      color: #fff;\n    }\n\n    &:focus {\n      box-shadow: none;\n    }\n\n    &--facebook {\n      background: #3b5999;\n      border-color: #2f4d8a;\n\n      &:hover {\n        background: #274480;\n        border-color: #274480;\n      }\n    }\n\n    &--google {\n      background: #cb4023;\n      border-color: #be3419;\n\n      &:hover {\n        background: #c1361a;\n        border-color: #c1361a;\n      }\n    }\n\n    &--windowslive {\n      background: #329ffc;\n      border-color: #2996f2;\n\n      &:hover {\n        background: #1f8ce9;\n        border-color: #1f8ce9;\n      }\n    }\n\n    &__icon {\n      display: inline-block;\n      width: 1.4rem;\n      text-align: center;\n      margin-right: .2rem;\n    }\n  }\n\n  &__back {\n    display: block;\n    padding-left: .3rem;\n    padding-right: .3rem;\n\n    &:focus {\n      box-shadow: none;\n    }\n  }\n\n  &__visitor-info {\n    font-size: .875rem;\n    margin-top: .6rem;\n    text-align: center;\n    color: var(--gray);\n  }\n}\n"]}]),e.exports=o},353:function(e,o,t){"use strict";t.r(o);var r=t(37),n=(t(183),t(22),t(57),t(31));const i={my_account:{en_us:"My account",pt_br:"Minha conta"},my_orders:{en_us:"My orders",pt_br:"Meus pedidos"},hello:{en_us:"Hello",pt_br:"Olá"},visitor:{en_us:"visitor",pt_br:"visitante"},sign_in_with:{en_us:"Sign in with",pt_br:"Entrar com"},sign_up_with:{en_us:"Sign up with",pt_br:"Cadastrar via"},another:{en_us:"another",pt_br:"outro"},email:{en_us:"email",pt_br:"e-mail"},logout:{en_us:"Logout",pt_br:"Sair"},login:{en_us:"Login",pt_br:"Entrar"},continue_on_popup:{en_us:"Continue login on popup",pt_br:"Continue o login no pop-up"},login_error:{en_us:"There was an error trying to login, please try again or select another option",pt_br:"Houve um erro ao tentar o login, por favor tente novamente ou selecione outra opção"},profile_not_found:{en_us:"No profile found with email address",pt_br:"Nenhum perfil encontrado com o endereço de e-mail"},visitor_checkout:{en_us:"You can also buy as a visitor if you prefer",pt_br:"Você também pode comprar como visitante se preferir"}};var s=function(e,o){return o||(o=this&&this.lang||"en_us"),i[e]&&i[e][o]||""},a=t(125),c={name:"EcUser",props:{lang:{type:String,default:n.$ecomConfig.get("lang")},ecomPassport:{type:Object,default:()=>a.a},popoverPlacement:{type:String,default:"bottomleft"},getGreetingsMsg:{type:Function},accountUrl:{type:String,default:"/app/#/account/"},ordersUrl:{type:String,default:"/app/#/account/orders"},popupAlertCountSecs:{type:Number,default:3}},data:()=>({showPopover:!1,popoverTriggers:"click blur",waiting:!1,waitingPopup:!1,isLogged:!1,email:"",name:"",oauthProviders:[],showLoginForm:!1,popupAlertCount:0,loginErrorAlert:!1,noProfileFound:!1,popoverHideTimer:null}),computed:{greetings(){return"function"==typeof this.getGreetingsMsg?this.getGreetingsMsg(this.name):"".concat(s("hello",this.lang)," ").concat(this.name||s("visitor",this.lang))}},methods:{dictionary:s,update(){this.fixPopoverTriggers();const{checkLogin:e,getCustomerName:o}=this.ecomPassport;this.name=o(),this.isLogged=e(),this.email="",this.popupAlertCount=0,this.isLogged&&(this.showPopover=!0,setTimeout(()=>{this.showPopover&&(this.popoverHideTimer=setTimeout(()=>{this.showPopover=!1},2e3))},200)),this.waitingPopup=!1,clearTimeout(this.popoverHideTimer)},waitPromise(e){this.fixPopoverTriggers();const o=this;o.waiting=!0,e.catch(e=>{console.error(e)}).finally(()=>{o.waiting=!1})},setOauthProviders(){const e=this,o=e.ecomPassport.fetchOauthProviders().then(({host:o,baseUri:t,oauthPath:r,providers:n})=>{const i=[];for(const e in n)if(n[e]){const{faIcon:s,providerName:a}=n[e];i.push({link:o+t+e+r,faIcon:s,provider:e,providerName:a})}e.oauthProviders=i}).catch(o=>{throw e.presetOauthProviders(),o});return e.waitPromise(o),o},presetOauthProviders(){this.oauthProviders=[{faIcon:"fa-facebook-f",providerName:"Facebook",provider:"facebook"},{faIcon:"fa-google",providerName:"Google",provider:"google"},{faIcon:"fa-windows",providerName:"Windows",provider:"windowslive"}]},oauthPopup(e,o){const t=this;if(this.loginErrorAlert=!1,e)t.ecomPassport.popupOauthLink(e),t.waitingPopup=!0,setTimeout(()=>{t.popupAlertCount=t.popupAlertCountSecs},200);else{const e=t.setOauthProviders().then(()=>{const e=t.oauthProviders.find(e=>e.provider===o);t.oauthPopup(e,o)}).catch(e=>{throw t.loginErrorAlert=!0,e});t.waitPromise(e)}},popupAlertChanged(e){this.popupAlertCount=e},emailLoginSubmit(e){const o=this;e.preventDefault(),o.showLoginForm=!1;const t=o.ecomPassport.fetchLogin(this.email).catch(e=>{const{response:t}=e;if(!t||403!==t.status)throw setTimeout(()=>{o.loginErrorAlert=!0},100),e;o.noProfileFound=!0});o.waitPromise(t)},logout(){this.ecomPassport.logout()},resetErrors(){this.noProfileFound=this.loginErrorAlert=!1},resetPopover(){this.showLoginForm?this.showLoginForm=!1:this.resetErrors()},fixPopoverTriggers(){this.showPopover&&(this.popoverTriggers="manual",setTimeout(()=>{this.popoverTriggers="click blur"},310))}},mounted(){const e=this;["login","logout"].forEach(o=>{this.ecomPassport.on(o,t=>{e.update(),e.$emit(o,t)})}),e.update(),e.setOauthProviders()},watch:{noProfileFound(e){!1===e&&(this.email=""),this.showLoginForm=!e},showLoginForm(e){this.loginErrorAlert=!1,e&&(this.fixPopoverTriggers(),setTimeout(()=>{this.$refs.input&&this.$refs.input.focus()},300))},showPopover(){clearTimeout(this.popoverHideTimer)}}},l=(t(311),t(72)),u=Object(l.a)(c,(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"ec-user"},[e._t("button",[t("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"btn btn-lg btn-light",attrs:{type:"button",id:"ec-user-popover",title:e.dictionary("my_account")}},[t("i",{staticClass:"fas fa-user"})])]),t("b-popover",{attrs:{target:"ec-user-popover",triggers:e.popoverTriggers,show:e.showPopover,placement:e.popoverPlacement},on:{"update:show":function(o){e.showPopover=o},hidden:e.resetPopover}},[t("template",{slot:"title"},[e._v(" "+e._s(e.greetings)+" ")]),t("div",{staticClass:"ec-user__popover"},[t("b-alert",{staticClass:"ec-user__alert",attrs:{show:e.loginErrorAlert,fade:"",variant:"warning"}},[e._v(" "+e._s(e.dictionary("login_error"))+". ")]),t("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated position-absolute fadeOut faster"}},[e.waiting?t("div",{key:"waiting"},[t("div",{staticClass:"spinner-border m-3",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[e._v("Loading...")])])]):e.isLogged?t("div",{key:"logged"},[t("div",{staticClass:"list-group list-group-flush"},[t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:e.ordersUrl}},[e._v(" "+e._s(e.dictionary("my_orders"))+" ")]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:e.accountUrl}},[e._v(" "+e._s(e.dictionary("my_account"))+" ")])]),t("button",{staticClass:"btn btn-block btn-danger ec-user__logout",attrs:{type:"button"},on:{click:e.logout}},[t("i",{staticClass:"fas fa-sign-out-alt"}),e._v(" "+e._s(e.dictionary("logout"))+" ")])]):e.showLoginForm?t("div",{key:"form"},[t("form",{on:{submit:e.emailLoginSubmit}},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn ec-user__back",attrs:{type:"button"},on:{click:function(o){e.showLoginForm=!1}}},[t("i",{staticClass:"fas fa-arrow-left"})]),t("label",{attrs:{for:"ec-user-email"}},[e._v(" "+e._s(e.dictionary("sign_in_with")+" "+e.dictionary("email"))+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"input",staticClass:"form-control",attrs:{type:"email",id:"ec-user-email",placeholder:"email@mail.com",required:""},domProps:{value:e.email},on:{input:function(o){o.target.composing||(e.email=o.target.value)}}})]),t("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"}},[e._v(" "+e._s(e.dictionary("login"))+" ")])])]):t("div",{key:"oauth"},[t("b-alert",{staticClass:"ec-user__alert",attrs:{show:!e.popupAlertCount&&e.noProfileFound,fade:"",variant:"info"}},[e._v(" "+e._s(e.dictionary("profile_not_found"))+" "),t("b",[e._v(e._s(e.email))]),e._v(". "),t("br"),t("a",{staticClass:"alert-link",attrs:{href:"javascript:;"},on:{click:function(o){e.noProfileFound=!1}}},[e._v(" "+e._s(e.dictionary("sign_in_with")+" "+e.dictionary("another")+" "+e.dictionary("email"))+" ")])]),t("b-alert",{staticClass:"ec-user__alert",attrs:{show:e.popupAlertCount,dismissible:"",fade:"",variant:"info"},on:{dismissed:function(o){e.popupAlertCount=0},"dismiss-count-down":e.popupAlertChanged}},[e._v(" "+e._s(e.dictionary("continue_on_popup"))+". ")]),e._l(e.oauthProviders,(function(o){var r=o.link,n=o.faIcon,i=o.providerName,s=o.provider;return t("button",{key:s,staticClass:"btn btn-block ec-user__btn",class:"ec-user__btn--"+s,attrs:{type:"button"},on:{click:function(){return e.oauthPopup(r,s)}}},[t("span",{staticClass:"ec-user__btn__icon"},[t("i",{staticClass:"fab",class:n})]),e._v(" "+e._s(e.dictionary(e.noProfileFound?"sign_up_with":"sign_in_with"))+" "+e._s(i)+" ")])})),e.noProfileFound?t("div",{staticClass:"ec-user__visitor-info"},[e._v(" "+e._s(e.dictionary("visitor_checkout"))+" ")]):t("button",{key:"email",staticClass:"btn btn-block btn-secondary ec-user__btn",attrs:{type:"button"},on:{click:function(o){e.showLoginForm=!0}}},[t("span",{staticClass:"ec-user__btn__icon"},[t("i",{staticClass:"fas fa-envelope"})]),e._v(" "+e._s(e.dictionary("sign_in_with")+" "+e.dictionary("email"))+" ")])],2)])],1)],2)],2)}),[],!1,null,null,null).exports;function p(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?p(Object(t),!0).forEach((function(o){g(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function g(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}o.default=(e={},o="user-button")=>{const t=document.getElementById(o);t&&new r.default({render:t=>t(u,{attrs:{id:o},props:d({},e.props)})}).$mount(t)}}}]);
//# sourceMappingURL=8aad3eb570079c44b738.js.map